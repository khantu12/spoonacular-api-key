{ status: 200,
  statusText: 'OK',
  headers:
   { date: 'Wed, 18 Dec 2019 11:33:11 GMT',
     'content-type': 'text/html; charset=UTF-8',
     'transfer-encoding': 'chunked',
     connection: 'close',
     'set-cookie':
      [ '__cfduid=d4d9a874abc2c68254eb985ff78e390a31576668791; expires=Fri, 17-Jan-20 11:33:11 GMT; path=/; domain=.spoonacular.com; HttpOnly; SameSite=Lax' ],
     expires: 'Thu, 19 Nov 1981 08:52:00 GMT',
     'cache-control':
      'no-store, no-cache, must-revalidate, post-check=0, pre-check=0',
     pragma: 'no-cache',
     vary: 'Accept-Encoding',
     'access-control-allow-origin': '*',
     'cf-cache-status': 'DYNAMIC',
     'expect-ct':
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
     server: 'cloudflare',
     'cf-ray': '5470d20d6e31720f-AMS' },
  config:
   { url: 'https://spoonacular.com/food-api/console',
     method: 'get',
     headers:
      { Accept: 'application/json, text/plain, */*',
        Cookie: 'PHPSESSID=243v2ci69k0cvgno02bro25t85; path=/',
        'User-Agent': 'axios/0.19.0' },
     transformRequest: [ [Function: transformRequest] ],
     transformResponse: [ [Function: transformResponse] ],
     timeout: 0,
     adapter: [Function: httpAdapter],
     xsrfCookieName: 'XSRF-TOKEN',
     xsrfHeaderName: 'X-XSRF-TOKEN',
     maxContentLength: -1,
     validateStatus: [Function: validateStatus],
     data: undefined },
  request:
   ClientRequest {
     _events:
      [Object: null prototype] {
        socket: [Function],
        abort: [Function],
        aborted: [Function],
        error: [Function],
        timeout: [Function],
        prefinish: [Function: requestOnPrefinish] },
     _eventsCount: 6,
     _maxListeners: undefined,
     output: [],
     outputEncodings: [],
     outputCallbacks: [],
     outputSize: 0,
     writable: true,
     _last: true,
     chunkedEncoding: false,
     shouldKeepAlive: false,
     useChunkedEncodingByDefault: false,
     sendDate: false,
     _removedConnection: false,
     _removedContLen: false,
     _removedTE: false,
     _contentLength: 0,
     _hasBody: true,
     _trailer: '',
     finished: true,
     _headerSent: true,
     socket:
      TLSSocket {
        _tlsOptions: [Object],
        _secureEstablished: true,
        _securePending: false,
        _newSessionPending: false,
        _controlReleased: true,
        _SNICallback: null,
        servername: 'spoonacular.com',
        alpnProtocol: false,
        authorized: true,
        authorizationError: null,
        encrypted: true,
        _events: [Object],
        _eventsCount: 8,
        connecting: false,
        _hadError: false,
        _handle: [TLSWrap],
        _parent: null,
        _host: 'spoonacular.com',
        _readableState: [ReadableState],
        readable: true,
        _maxListeners: undefined,
        _writableState: [WritableState],
        writable: false,
        allowHalfOpen: false,
        _sockname: null,
        _pendingData: null,
        _pendingEncoding: '',
        server: undefined,
        _server: null,
        ssl: [TLSWrap],
        _requestCert: true,
        _rejectUnauthorized: true,
        parser: null,
        _httpMessage: [Circular],
        [Symbol(res)]: [TLSWrap],
        [Symbol(asyncId)]: 81,
        [Symbol(lastWriteQueueSize)]: 0,
        [Symbol(timeout)]: null,
        [Symbol(kBytesRead)]: 0,
        [Symbol(kBytesWritten)]: 0,
        [Symbol(connect-options)]: [Object] },
     connection:
      TLSSocket {
        _tlsOptions: [Object],
        _secureEstablished: true,
        _securePending: false,
        _newSessionPending: false,
        _controlReleased: true,
        _SNICallback: null,
        servername: 'spoonacular.com',
        alpnProtocol: false,
        authorized: true,
        authorizationError: null,
        encrypted: true,
        _events: [Object],
        _eventsCount: 8,
        connecting: false,
        _hadError: false,
        _handle: [TLSWrap],
        _parent: null,
        _host: 'spoonacular.com',
        _readableState: [ReadableState],
        readable: true,
        _maxListeners: undefined,
        _writableState: [WritableState],
        writable: false,
        allowHalfOpen: false,
        _sockname: null,
        _pendingData: null,
        _pendingEncoding: '',
        server: undefined,
        _server: null,
        ssl: [TLSWrap],
        _requestCert: true,
        _rejectUnauthorized: true,
        parser: null,
        _httpMessage: [Circular],
        [Symbol(res)]: [TLSWrap],
        [Symbol(asyncId)]: 81,
        [Symbol(lastWriteQueueSize)]: 0,
        [Symbol(timeout)]: null,
        [Symbol(kBytesRead)]: 0,
        [Symbol(kBytesWritten)]: 0,
        [Symbol(connect-options)]: [Object] },
     _header:
      'GET /food-api/console HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nCookie: PHPSESSID=243v2ci69k0cvgno02bro25t85; path=/\r\nUser-Agent: axios/0.19.0\r\nHost: spoonacular.com\r\nConnection: close\r\n\r\n',
     _onPendingData: [Function: noopPendingOutput],
     agent:
      Agent {
        _events: [Object],
        _eventsCount: 1,
        _maxListeners: undefined,
        defaultPort: 443,
        protocol: 'https:',
        options: [Object],
        requests: {},
        sockets: [Object],
        freeSockets: {},
        keepAliveMsecs: 1000,
        keepAlive: false,
        maxSockets: Infinity,
        maxFreeSockets: 256,
        maxCachedSessions: 100,
        _sessionCache: [Object] },
     socketPath: undefined,
     timeout: undefined,
     method: 'GET',
     path: '/food-api/console',
     _ended: true,
     res:
      IncomingMessage {
        _readableState: [ReadableState],
        readable: false,
        _events: [Object],
        _eventsCount: 3,
        _maxListeners: undefined,
        socket: [TLSSocket],
        connection: [TLSSocket],
        httpVersionMajor: 1,
        httpVersionMinor: 1,
        httpVersion: '1.1',
        complete: true,
        headers: [Object],
        rawHeaders: [Array],
        trailers: {},
        rawTrailers: [],
        aborted: false,
        upgrade: false,
        url: '',
        method: null,
        statusCode: 200,
        statusMessage: 'OK',
        client: [TLSSocket],
        _consuming: true,
        _dumped: false,
        req: [Circular],
        responseUrl: 'https://spoonacular.com/food-api/console',
        redirects: [] },
     aborted: undefined,
     timeoutCb: null,
     upgradeOrConnect: false,
     parser: null,
     maxHeadersCount: null,
     _redirectable:
      Writable {
        _writableState: [WritableState],
        writable: true,
        _events: [Object],
        _eventsCount: 2,
        _maxListeners: undefined,
        _options: [Object],
        _redirectCount: 0,
        _redirects: [],
        _requestBodyLength: 0,
        _requestBodyBuffers: [],
        _onNativeResponse: [Function],
        _currentRequest: [Circular],
        _currentUrl: 'https://spoonacular.com/food-api/console' },
     [Symbol(isCorked)]: false,
     [Symbol(outHeadersKey)]:
      [Object: null prototype] {
        accept: [Array],
        cookie: [Array],
        'user-agent': [Array],
        host: [Array] } },
  data:
   '<!DOCTYPE html>\n<html lang="en">\n<head>\n\n<meta charset="utf-8">\n<meta http-equiv="X-UA-Compatible" content="IE=edge">\n<meta http-equiv="content-type" content="text/html; charset=utf-8" />\n<meta name="viewport" content="width=device-width, initial-scale=1.0">\n<meta name="description" content="">\n<meta name="keywords" content="">\n<meta name="author" content="Awaiken">\n\n<title>spoonacular recipe and food API</title>\n<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">\n<link rel="icon" href="/favicon.ico" type="image/x-icon">\n<link rel="stylesheet" type="text/css" href="/application/frontend/css/normalize.min.css" />\n<link rel="stylesheet" type="text/css" href="/application/frontend/css/foundation.min.css" />\n<link rel="stylesheet" type="text/css" href="/application/frontend/css/styles.min.css" />\n<link rel="stylesheet" type="text/css" href="/application/frontend/css/notifications.min.css" />\n<style>\n        p {\n            text-align: inherit;\n        }\n        .divText, .optionGroup label, li, ol, p, ul {\n            font-size: 16px;\n        }\n        .row {\n            margin-left: auto !important;\n            margin-right: auto !important;\n        }\n    </style>\n\n<link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,800,900%7CRubik:300,400,500,700,900" rel="stylesheet">\n\n<link href="/application/frontend/css/api/bootstrap.min.css" rel="stylesheet" media="screen">\n\n<link rel="stylesheet" href="/application/frontend/css/api/slicknav.css">\n\n<link href="/application/frontend/css/api/custom.min.css" rel="stylesheet" media="screen">\n\n\n<!--[if lt IE 9]>\n      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>\n      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>\n    <![endif]-->\n<script type="text/javascript" src="/application/frontend/js/vue.min.js?c=1"></script>\n<script type="text/javascript" src="/application/frontend/js/notifications.min.js?c=1"></script>\n<script type="text/javascript" src="/application/frontend/js/config.min.js?c=1"></script>\n<script type="text/javascript" src="/application/frontend/js/jquery.min.js?c=1"></script>\n</head>\n<body data-spy="scroll" data-target="#navigation" data-offset="71">\n\n<header class="header-layout-1">\n<nav class="navbar navbar-expand-md navbar-light fixed-top" id="navigation">\n<div class="container">\n<a class="navbar-brand" href="/food-api"><img src="/application/frontend/images/logo-simple-framed-green-gradient.svg" alt="spoonacular logo" /> <span class="greenF" style="font-size: 18px;margin-left: 10px;">spoonacular API</span></a>\n<ul class="navbar-nav ml-auto" id="main-menu">\n<li class="nav-item"><a class="nav-link active" href="/food-api">Overview</a></li>\n<li class="nav-item"><a class="nav-link" href="/food-api/docs">Docs</a>\n<ul>\n<li><a href="/food-api/docs">Full Documentation</a></li>\n<li><a href="/food-api/faq">FAQ</a></li>\n<li><a href="/food-api/sdk">SDKs</a></li>\n</ul>\n</li>\n<li class="nav-item"><a class="nav-link" href="/food-api/pricing">Pricing</a></li>\n<li class="nav-item"><a class="nav-link" href="/food-api/terms">Terms</a></li>\n<li class="nav-item"><a class="nav-link" href="/food-api/apps">Applications</a></li>\n<li class="nav-item"><a class="nav-link download-link" href="/food-api/console">\nMy Console\n</a></li>\n</ul>\n<div class="navbar-toggle"></div>\n<div id="responsive-menu"></div>\n</div>\n</nav>\n</header><style>\n    .notCorrect {\n        border: 2px solid #E63F2F !important;\n    }\n</style>\n\n<div id="hackathonSignUp" class="reveal-modal" data-reveal>\n<h2>$10 Hackathon / University Sign Up</h2>\n<div style="margin-bottom: 5px;">Please get a username on <a href="https://rapidapi.com/spoonacular/api/Recipe%20-%20Food%20-%20Nutrition">RapidAPI.com</a> before sending this form.</div>\n<div style="margin-bottom: 5px;">You can get up to 5,000 requests per day with our academic or hackathon plan for $10/month. Please be sure to read the slides that will be sent to you with your invitation.</div>\n<form id="hackathonSignUpForm" action="/hackathonSignUp" method="post">\nYour name: <input type="text" name="name" onkeyup="return throttle(checkHackathonRegisterFields(event),100);">\nYour email (for academic access, please use your university email): <input type="text" name="email" onkeyup="return throttle(checkHackathonRegisterFields(event),100);">\nSchool or hackathon name (or link): <input type="text" name="eventName" onkeyup="return throttle(checkHackathonRegisterFields(event),100);">\nRapidAPI username (sign up at <a href="https://rapidapi.com">rapidapi.com</a> before sending this form): <input type="text" name="mashapeUsername" onkeyup="return throttle(checkHackathonRegisterFields(event),100);">\nWhat are you going to build? (at least 150 characters): <textarea type="text" name="message" rows="3" onkeyup="return throttle(checkHackathonRegisterFields(event),100);"></textarea>\nAccess needed until (extension after 3 months can be arranged): <input type="date" name="endDate" value="2019-12-18" min="2019-12-18" max="2020-03-17">\n<div style="margin-bottom: 5px;">Please like this page before requesting access.</div>\n<iframe src="//www.facebook.com/plugins/like.php?href=https%3A%2F%2Fspoonacular.com%2Ffood-api%2Fconsole&amp;send=false&amp;layout=button_count&amp;width=85&amp;show_faces=false&amp;action=like&amp;colorscheme=light&amp;font=lucida+grande&amp;height=21&amp;appId=552345664830110" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:78px; height:21px;position:relative;bottom:3px" allowTransparency="true"></iframe>\n<div class="optionGroup">\n<div class="checkbox">\n<input id="agreeTermsBox" type="checkbox" name="agreeTerms" value="" onclick="checkHackathonRegisterFields(event)">\n<label for="agreeTermsBox" onclick="checkHackathonRegisterFields(event)">I agree to spoonacular\'s <a href="/terms" target="_blank">Terms and Privacy Policy</a></label><br>\n</div>\n<div class="checkbox">\n<input id="agreeEmailsBox" type="checkbox" name="agreeEmails" value="" onclick="checkHackathonRegisterFields(event)">\n<label for="agreeEmailsBox" onclick="checkHackathonRegisterFields(event)">I agree to receive emails about API updates*</label><br>\n</div>\n</div>\n<div style="margin-bottom: 5px;">We are a small team and check every request manually. If your request is granted it may take up to 72 hours for us to get back to you.</div>\n<div id="doneButton" class="button blue disabled" style="text-align:center" onclick="if ($(this).attr(\'class\').indexOf(\'disabled\') < 0) requestApiKey();">request access</div>\n<div style="margin-top:15px;font-size:0.9em;">\n*By checking this box, you agree we may use the information you provided to contact you by email. You can unsubscribe at any time. We use MailChimp to send email - your information will be transferred to them to be processed in accordance with their <a href="https://mailchimp.com/legal/privacy/">Privacy Policy</a> and <a href="https://mailchimp.com/legal/terms/">Terms</a>.\n</div>\n</form>\n<a class="close-reveal-modal">&#215;</a>\n</div>\n<style>\n    .checkbox label {\n        width: initial !important;\n    }\n    .optionGroup {\n        margin: 10px 0;\n    }\n    form label a {\n        font-size: inherit;\n    }\n</style>\n<script src="/application/frontend/js/Chart.min.js?c=1"></script>\n<script src="/application/frontend/js/axios.min.js?c=1"></script>\n<script src="https://js.stripe.com/v3/"></script>\n<div id="wrapper" class="row" style="max-width:1100px;margin-top:150px">\n<div class="col-lg-12">\n<h1>API Console</h1>\n\n<div id="apiConsole" class="row">\n<aside class="col-sm-3 col-md-3 col-lg-3">\n<a v-on:click="show(\'Dashboard\')" v-bind:class="{activeSection: activeSection==\'Dashboard\'}">Dashboard</a>\n<a v-on:click="show(\'Profile\')" v-bind:class="{activeSection: activeSection==\'Profile\'}">Profile</a>\n<a v-on:click="show(\'Plan\')" v-bind:class="{activeSection: activeSection==\'Plan\'}">Plan / Billing</a>\n<a href="/food-api/logOut">Log Out</a>\n</aside>\n<div id="apiConsoleRightSide" class="col-sm-9 col-md-9 col-lg-9">\n<section v-show="activeSection == \'Dashboard\'">\n<h2>Dashboard</h2>\n<p>Here you can see statistics about the requests you made and how many quota points you have.</p>\n<canvas id="apiCallChart" width="800" height="450"></canvas>\n<br><br>\n<template v-if="endpointTableData.length > 0">\n<table>\n<tr>\n<th>Endpoint</th>\n<th>Number of Requests</th>\n</tr>\n<template v-for="(row, i) in endpointTableData">\n<tr>\n<td>{{ endpoint(row) }}</td>\n<td>{{ row.count }}</td>\n</tr>\n</template>\n</table>\n<br><br>\n</template>\n<p>\nRemember, every API response contains headers with information about the points used.\n</p>\n<ul>\n<li><b>X-API-Quota-Request</b>: The number of points used by the request.</li>\n<li><b>X-API-Quota-Used</b>: The number of points used in total today.</li>\n</ul>\n</section>\n<section v-show="activeSection == \'Profile\'">\n<h2>Profile</h2>\n<p>On this page you find your information and can sign up for developer news.</p>\n<form>\n<label>Email:</label>\n\n<p>{{ user.email }}</p>\n<label>Password:</label><br>\n<div class="button salmon" v-on:click="changePw = true">Change Password</div>\n<template v-if="changePw">\n<input type="password" v-model="newPassword" placeholder="Type your new password (at least 6 characters long)" style="margin-top:10px" />\n<div class="button salmon" onclick="if (newPassword.length >= 6) app.updatePassword()" :disabled="newPassword.length < 6">Update Password</div>\n</template>\n<br><br>\n<label>API Key:</label>\n<template v-if="showKey">\n{{user.apiKey}}\n</template>\n<template v-else>\n*****************************\n</template>\n<br><br>\n<div class="button salmon" v-on:click="showKey = !showKey">Show / Hide API Key</div>\n<div class="button salmon" onclick="if (confirm(\'Are you sure? The old key will stop working. If you use this in production, your app will stop working until you change the key.\')) app.generateNewApiKey()">Generate New API Key</div>\n<br><br>\n<div class="button salmon" onclick="if (confirm(\'Are you sure? All your API keys will stop working and you cannot recover any statistics. This action cannot be undone.\')) app.deleteAccount()">DELETE ACCOUNT</div>\n</form>\n</section>\n<section v-show="activeSection == \'Plan\'">\n<h2>Plan</h2>\n<p>Manage your subscription.<template v-if="user.plan != \'\'"> You are currently subscribed to the <b>{{user.plan}}</b> plan.</template></p>\n<div id="apiPricing">\n<div class="pricingBox shadow-box" style="margin-left:0">\n<div>\n<h3>Starter</h3>\n<div class="splitter"></div>\n</div>\n<img src="/application/frontend/images/food-api/starter.svg">\n<div class="price-information">\n<h1>\n<span class="money-sign ">$</span>1\n<span class="per-time-unit">/mo</span>\n</h1>\n</div>\n<div class="quota-details">\n<div><b>150</b> <span>points/day</span></div>\n<div>then <b>$0.007</b><span>/point</span></div>\n</div>\n<div class="details">\n<div>\n<img src="/application/frontend/images/food-api/checked.svg"> Forum Support\n</div>\n</div>\n<button v-on:click="subscribe(\'starter\')">Subscribe</button>\n</div>\n<div class="pricingBox shadow-box" style="margin-left:0">\n<div>\n<h3>Cook</h3>\n<div class="splitter"></div>\n</div>\n<img src="/application/frontend/images/food-api/spoon.svg">\n<div class="price-information">\n<h1>\n<span class="money-sign ">$</span>29\n<span class="per-time-unit">/mo</span>\n</h1>\n</div>\n<div class="quota-details">\n<div><b>1,500</b> <span>points/day</span></div>\n<div>then <b>$0.005</b><span>/point</span></div>\n</div>\n<div class="details">\n<div>\n<img src="/application/frontend/images/food-api/checked.svg"> Email Support\n</div>\n<div>\n<img src="/application/frontend/images/food-api/checked.svg"> No Backlink\n</div>\n</div>\n<button v-on:click="subscribe(\'cook\')">Subscribe</button>\n</div>\n<div class="pricingBox shadow-box" style="margin-left:0">\n<div>\n<h3>Culinarian</h3>\n<div class="splitter"></div>\n</div>\n<img src="/application/frontend/images/food-api/knife-fork.svg">\n<div class="price-information">\n<h1>\n<span class="money-sign ">$</span>79\n<span class="per-time-unit">/mo</span>\n</h1>\n</div>\n<div class="quota-details">\n<div><b>4,500</b> <span>points/day</span></div>\n<div>then <b>$0.004</b><span>/point</span></div>\n</div>\n<div class="details">\n<div>\n<img src="/application/frontend/images/food-api/checked.svg"> Email Support\n</div>\n<div>\n<img src="/application/frontend/images/food-api/checked.svg"> No Backlink\n</div>\n</div>\n<button v-on:click="subscribe(\'culinarian\')">Subscribe</button>\n</div>\n<div class="pricingBox shadow-box" style="margin-left:0;margin-right:0">\n<div>\n<h3>Chef</h3>\n<div class="splitter"></div>\n</div>\n<img src="/application/frontend/images/food-api/chef-hat.svg">\n<div class="price-information">\n<h1>\n<span class="money-sign ">$</span>149\n<span class="per-time-unit">/mo</span>\n</h1>\n</div>\n<div class="quota-details">\n<div><b>10,000</b> <span>points/day</span></div>\n<div>then <b>$0.002</b><span>/point</span></div>\n</div>\n<div class="details">\n<div>\n<img src="/application/frontend/images/food-api/checked.svg"> Phone Support\n </div>\n<div>\n<img src="/application/frontend/images/food-api/checked.svg"> Custom Endpoints\n</div>\n<div>\n<img src="/application/frontend/images/food-api/checked.svg"> Exclusive Previews\n</div>\n<div>\n<img src="/application/frontend/images/food-api/checked.svg"> No Backlink\n</div>\n</div>\n<button v-on:click="subscribe(\'chef\')">Subscribe</button>\n</div>\n<div class="clearer"></div>\n</div>\n<div v-show="showCcForm" style="margin-top:30px">\n<div v-for="(cc, i) in creditCards">\nOn file: {{cc.brand}} ending on {{cc.last4}} which expires {{cc.exp_month}}/{{cc.exp_year}} <a v-if="creditCards.length > 1" href="#" onclick="if (confirm(\'Are you sure?\')) {app.removeCard(cc.id)}">Remove Card</a>\n</div>\n<form style="margin-top:10px;">\n<label for="change-card-element">\nUpdate your card:\n</label>\n<div id="change-card-element" style="margin-top:10px">\n\n</div>\n\n<div id="change-card-errors" class="paymentErrorMessage" role="alert"></div>\n<br>\n<button id="changeCcButton" :disabled="!changeCcReady" type="button" class="button blue">Update</button>\n</form>\n</div>\n<template v-if="invoices != null && invoices.length > 0">\n<br><br>\n<h3>Invoices</h3>\n<div v-for="(invoice, i) in invoices" class="invoiceLine">\n&#9658; {{ formatMoney(invoice.total) }} ({{ formatDate(invoice.period_start) }} - {{ formatDate(invoice.period_end) }})<template v-if="invoice.receipt_number!=null">, Receipt Number: {{ invoice.receipt_number }}</template> <a :href="invoice.invoice_pdf">Download</a>\n</div>\n</template>\n</section>\n</div>\n</div>\n</div>\n<style>\n    .invoiceLine {\n        padding: 5px;\n        /* border: 1px solid black;    */\n        font-size: 14px;\n    }\n    .pricingBox {\n        width: 186px;\n        margin: 0 8px 0 0;\n    }\n    .pricingBox button {\n        left: 39px;\n    }\n    .pricingBox button:hover {\n        left: 22px;\n    }\n\n\n    .pricingBox .details {\n        font-size: 13px;\n    }\n\n    input {\n        padding: 10px !important;\n        font-size: 16px !important;\n        height: initial !important;\n    }\n</style>\n<script>\n// stripe checkout handling\nvar stripe = Stripe(\'pk_live_HcpxInnGJgx3iuD6fs53xmXx\');\n// var stripe = Stripe(\'pk_test_bTpx3zII7SciCKGSnomNwyFC\');\n\nvar app = new Vue({\n  el: \'#apiConsole\',\n  mounted () {\n    this.notifier = new AWN({\n        maxNotifications: 6,\n        messages: {\n            alert: "Sorry but something went wrong.",\n        }\n    });\n\n    // check whether there is a hash in the URL to direct us to a section\n    var cHash = window.location.hash.replace(\'#\', \'\').replace(/-/g, \' \');\n    if (cHash.length > 0) {\n        this.show(cHash);\n    } else {\n        this.show(\'Dashboard\');\n    }\n\n    // change cc details\n    var vm = this;\n    var elements = stripe.elements();\n\n    // custom styling can be passed to options when creating an Element.\n    var style = {\n        base: {\n            color: \'#32325d\',\n            fontSmoothing: \'antialiased\',\n            fontSize: \'16px\',\n            \'::placeholder\': {\n                color: \'#aab7c4\'\n            }\n        },\n        invalid: {\n            color: \'#fa755a\',\n            iconColor: \'#fa755a\'\n        }\n    };\n\n    // create an instance of the card Element.\n    var changeCard = elements.create(\'card\', {style: style});\n\n    // add an instance of the card Element into the `card-element` <div>.\n    changeCard.mount(\'#change-card-element\');\n\n    // handle real-time validation errors from the card Element.\n    changeCard.addEventListener(\'change\', function(event) {\n        vm.changeCcReady = event.complete;\n        var displayError = document.getElementById(\'change-card-errors\');\n        if (event.error) {\n            displayError.textContent = event.error.message;\n            displayError.classList.add(\'visible\');\n        } else {\n            displayError.textContent = \'\';\n            displayError.classList.remove(\'visible\');\n        }\n    });\n\n    // handle form for changing credit card details.\n    var changeCcButton = document.getElementById(\'changeCcButton\');\n    changeCcButton.addEventListener(\'click\', function(event) {\n        event.preventDefault();\n\n        stripe.createToken(changeCard).then(function(result) {\n            if (result.error) {\n                // Inform the user if there was an error.\n                var errorElement = document.getElementById(\'change-card-errors\');\n                errorElement.textContent = result.error.message;\n            } else {\n                // Send the token to your server.\n                vm.stripeTokenHandlerUpdateCc(result.token);\n            }\n        });\n    });\n  },\n  methods: {\n      show: function(section) {\n        this.activeSection = section;\n        // document.querySelector(\'h1\').scrollIntoView({behavior: "smooth", block: "start", inline: "start"});\n        window.location = \'#\' + section.replace(/ /g, \'-\');\n\n        switch (section) {\n            case \'Dashboard\':\n                this.renderChart();\n                this.renderEndpointTable();\n                break;\n            case \'Plan\':\n                this.listInvoices();\n                this.listCreditCards();\n                break;\n        }\n      },\n      logIn: function() {\n        var vm = this;\n        axios.get(SITE_BASE + \'api/logIn?email=\'+encodeURIComponent(this.email)+\'&password=\'+encodeURIComponent(this.password))\n            .then(function (response) {\n                if (response.data.status == \'success\') {\n                    location.reload();\n                } else {\n                    vm.notifier.alert(\'Login information incorrect.\');\n                }\n            })\n            .catch(function (error) {\n                vm.notifier.alert(\'Login did not work, please try again.\');\n            });\n      },\n      deleteAccount: function() {\n        var vm = this;\n        axios.get(BASE + \'spoonacular-api/deleteAccount?apiKey=\'+encodeURIComponent(this.user.apiKey))\n            .then(function (response) {\n                if (response.data.status == \'success\') {\n                    vm.notifier.success(response.data.message);\n                    setTimeout(() => {\n                        location.href = \'/food-api/logOut\';\n                    }, 3000);\n                } else {\n                    vm.notifier.alert(response.data.message);\n                }\n            })\n            .catch(function (error) {\n                vm.notifier.alert(error);\n            });\n      },\n      signUp: function() {\n        var vm = this;\n        axios.get(SITE_BASE + \'api/register?email=\'+encodeURIComponent(this.email)+\'&password=\'+encodeURIComponent(this.password))\n            .then(function (response) {\n                if (response.data.status == \'success\') {\n                    location.reload();\n                } else {\n                    vm.notifier.alert(response.data.message);\n                }\n            })\n            .catch(function (error) {\n                vm.notifier.alert(error);\n            });\n      },\n      sendNewPassword: function() {\n        var vm = this;\n        axios.get(SITE_BASE + \'api/resetPassword?email=\'+encodeURIComponent(this.email))\n            .then(function (response) {\n                if (response.data.status == \'success\') {\n                    vm.notifier.success(response.data.message);\n                } else {\n                    vm.notifier.alert(response.data.message);\n                }\n            })\n            .catch(function (error) {\n                vm.notifier.alert(error);\n            });\n      },\n      updatePassword: function() {\n        var vm = this;\n        axios.get(BASE + \'spoonacular-api/updatePassword?apiKey=\'+encodeURIComponent(this.user.apiKey)+\'&newPassword=\'+encodeURIComponent(this.newPassword))\n            .then(function (response) {\n                if (response.data.status == \'success\') {\n                    vm.notifier.success(response.data.message);\n                } else {\n                    vm.notifier.alert(response.data.message);\n                }\n            })\n            .catch(function (error) {\n                vm.notifier.alert(error);\n            });\n      },\n      generateNewApiKey: function() {\n        var vm = this;\n        axios.get(SITE_BASE + \'api/generateNewApiKey?k=\'+encodeURIComponent(this.user.apiKey))\n            .then(function (response) {\n                if (response.data.status == \'success\') {\n                    vm.user.apiKey = response.data.apiKey;\n                    vm.notifier.success(response.data.message);\n                } else {\n                    vm.notifier.alert(response.data.message);\n                }\n            })\n            .catch(function (error) {\n                vm.notifier.alert(error);\n            });\n      },\n      stripeTokenHandlerUpdateCc: function(stripeToken) {\n        var vm = this;\n\n        axios.post(BASE + \'spoonacular-api/paymentDetails?apiKey=\' + encodeURIComponent(this.user.apiKey), {\'stripeToken\': stripeToken.id})\n        .then(function (response) {\n            if (response.data.status == \'success\') {\n                vm.notifier.success(\'Your payment information has been updated successfully!\');\n                app.creditCards = null;\n                app.listCreditCards();\n            } else {\n                vm.notifier.alert(response.data.message);\n            }\n        })\n        .catch(function (error) {\n            console.log(error);\n            vm.notifier.alert(\'Could not update payment information, please get in touch with us.\');\n        });\n      },\n      subscribe: function(plan) {\n        var vm = this;\n\n        // if user already has a subscription, we must call the change endpoint, otherwise we start a checkout session\n        if (this.user.stripeSubscriptionId) {\n            // console.log(\'sending stripe request to the server\');\n            axios.post(SITE_BASE + \'api/switchPlan\', {plan: plan, email: this.user.email})\n            .then(function (response) {\n                if (response.data.status == \'success\') {\n                    vm.notifier.success(\'Plan changed successfully.\');\n                    vm.user.plan = plan;\n                    setTimeout(() => {\n                        location.reload();    \n                    }, 1000);                    \n                } else {\n                    vm.notifier.alert(response.data.message);\n                }\n            })\n            .catch(function (error) {\n                console.log(error);\n                vm.notifier.alert(\'Subscription failed, please get in touch with us.\');\n            });\n        } else {\n            // console.log(\'sending stripe request to the server\');\n            axios.post(SITE_BASE + \'api/subscribe\', {plan: plan, email: this.user.email})\n            .then(function (response) {\n                if (response.data.status == \'success\') {\n                    //console.log(response);\n                    stripe.redirectToCheckout({\n                        sessionId: response.data.sessionId\n                    }).then(function (result) {\n                    // If `redirectToCheckout` fails due to a browser or network\n                    // error, display the localized error message to your customer\n                    // using `result.error.message`.\n                    });\n                } else {\n                    vm.notifier.alert(response.data.message);\n                }\n            })\n            .catch(function (error) {\n                console.log(error);\n                vm.notifier.alert(\'Subscription failed, please get in touch with us.\');\n            });\n        }        \n    },\n    listCreditCards: function() {\n        if (this.creditCards == null && this.user.stripeCustomerId != undefined) {\n            this.creditCards = [];\n            var vm = this;\n            axios.get(BASE + \'spoonacular-api/listCards?apiKey=\'+encodeURIComponent(this.user.apiKey))\n                .then(function (response) {\n                    if (response.data.status == \'success\') {\n                        vm.creditCards = response.data.cards;\n                    } else {\n                        vm.notifier.alert(response.data.message);\n                    }\n                })\n                .catch(function (error) {\n                    vm.notifier.alert(\'Problem listing credit cards.\');\n                });\n        }\n      },\n    listInvoices: function() {\n        if (this.invoices == null && this.user.stripeCustomerId != undefined) {\n            this.invoices = [];\n            var vm = this;\n            axios.get(BASE + \'spoonacular-api/invoices?customerId=\'+encodeURIComponent(this.user.stripeCustomerId))\n                .then(function (response) {\n                    if (response.data.status == \'success\') {\n                        vm.invoices = response.data.invoices;\n                    } else {\n                        vm.notifier.alert(response.data.message);\n                    }\n                })\n                .catch(function (error) {\n                    vm.notifier.alert(\'Problem listing invoices.\');\n                });\n        }\n      },\n      renderChart: function() {\n        if (!document.getElementById(\'apiCallChart\')) {\n             return;\n        }\n        var ctx = document.getElementById(\'apiCallChart\').getContext(\'2d\');\n\n        if (this.dataArray == null) {\n            var vm = this;\n            this.dataArray = [];\n            axios.get(BASE + \'spoonacular-api/callStats?apiKey=\' + this.user.apiKey)\n                .then(function (response) {\n                    dataArray = response.data;\n\n                    // transform data array to chart dataset\n                    var labels = [];\n                    var requestsData = [];\n                    var pointsData = [];\n                    for (var i = 0; i < dataArray.length; i++) {\n                        var dataPoint = dataArray[i];\n                        labels.push(dataPoint.date);\n                        requestsData.push(dataPoint.requests);\n                        pointsData.push(dataPoint.points);\n                    }\n\n                    new Chart(ctx, {\n                        "type": "line", \n                        "data": \n                        { \n                            "labels": labels, \n                            "datasets": [\n                                {\n                                    "label": "Requests", \n                                    "data": requestsData, \n                                    "fill": false, \n                                    "borderColor": "rgb(75, 192, 192)", \n                                    "lineTension": 0.1 \n                                },\n                                {\n                                    "label": "Points", \n                                    "data": pointsData, \n                                    "fill": false, \n                                    "borderColor": "rgb(255, 120, 126)", \n                                    "lineTension": 0.1 \n                                }\n                            ] \n                        }, \n                        "options": {} \n                    });\n            })\n            .catch(function (error) {\n                vm.notifier.alert(\'Problem drawing the chart.\');\n            })\n            .finally(function () {\n                // always executed\n            });\n        }\n    },\n    renderEndpointTable: function() {\n        if (this.endpointTableRendered || !this.user) {\n            return;\n        }\n        var vm = this;\n        axios.get(BASE + \'spoonacular-api/endpointStats?apiKey=\' + this.user.apiKey)\n            .then(function (response) {\n                vm.endpointTableData = response.data;\n        })\n        .catch(function (error) {\n            vm.notifier.alert(\'Problem getting endpoint data statistics.\');\n        })\n        .finally(function () {\n            vm.endpointTableRendered = true;\n        });\n    },\n    endpoint: function (row) {\n        var endpoint = row.endpoint;\n        endpoint = endpoint.replace(\'RecipesResource\', \'recipes\');\n        endpoint = endpoint.replace(\'FoodResource\', \'food\');\n        return endpoint;\n    },\n    formatDate: function(timestamp) {\n        return new Date(1000 * timestamp).toLocaleDateString();\n    },\n    formatMoney: function(cents) {\n        return \'US$ \' + cents / 100;\n    }\n  },\n  data: {\n    notifier: null,\n    newPassword: \'\',\n    changePw: false,\n    email: \'\',\n    stripe: null,\n    changeCcReady: false,\n    showCcForm: false,\n    password: \'\',\n        user: {"signedUp":1576667372000,"referrer":"","apiKey":"357cc590dd1746efbfa9866dbefbaec2","id":5397,"plan":"free","email":"khantu@abv.bg"},\n        invoices: null,\n    creditCards: null,\n    userStatus: \'signUp\',\n    activeSection: \'Dashboard\',\n    dataArray: null,\n    endpointTableRendered: false,\n    endpointTableData: [],\n    showKey: false\n  }\n});\n</script> </div> \n\n<section class="mega-footer-layout-1">\n<div class="container">\n<div class="row">\n\n<div class="col-lg-3 col-md-6">\n<div class="footer-link">\n<h3>Company</h3>\n<ul>\n<li><a href="/about">About Us</a></li>\n<li><a href="/press">Press</a></li>\n</ul>\n</div>\n</div>\n\n\n<div class="col-lg-3 col-md-6">\n<div class="footer-link">\n<h3>Legal</h3>\n<ul>\n<li><a href="/food-api/terms">Terms & Conditions</a></li>\n<li><a href="/terms">Privacy Policy</a></li>\n</ul>\n</div>\n</div>\n\n\n<div class="col-lg-3 col-md-6">\n<div class="footer-link">\n<h3>Info</h3>\n<ul>\n<li><a href="/contact">Contact Us</a></li>\n<li><a href="http://status.spoonacular.com/">API Status</a></li>\n</ul>\n</div>\n</div>\n\n\n<div class="col-lg-3 col-md-6">\n<div class="footer-payment">\n\n<a href="http://status.spoonacular.com/">API Uptime Status</a>\n</div>\n</div>\n\n</div>\n</div>\n</section>\n\n\n<script type="text/javascript" src="/application/frontend/js/foundation.min.js?c=1"></script>\n\n<script src="/application/frontend/js/api/bootstrap.min.js?c=1"></script>\n\n<script src="/application/frontend/js/api/responsive-tabs.js?c=1"></script>\n\n<script src="/application/frontend/js/api/jquery.slicknav.js?c=1"></script>\n\n<script src="/application/frontend/js/api/function.min.js?c=1"></script>\n<script type="text/javascript" src="/application/frontend/js/prism.min.js?c=1"></script>\n<script>\n    (function(i,s,o,g,r,a,m){i[\'GoogleAnalyticsObject\']=r;i[r]=i[r]||function(){\n    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n    })(window,document,\'script\',\'//www.google-analytics.com/analytics.js\',\'ga\');\n    ga(\'create\', \'UA-377808-33\', \'spoonacular.com\');\n    ga(\'require\', \'displayfeatures\');\n    ga(\'send\', \'pageview\');\n    ga(\'set\', \'anonymizeIp\', true);\n    </script>\n<script>\n        var referrer =  document.referrer;\n        if (referrer.indexOf(\'spoonacular.com\') == -1) {\n            var date = new Date();\n            date.setTime(date.getTime() + (7 * 24 * 60 * 1000));\n            var expires = \';path=/; expires=\' + date.toGMTString();\n            document.cookie = \'spoonacular_signup_referrer=\'+encodeURI(referrer) + expires;\n        }\n    </script>\n</body>\n</html> ' }
